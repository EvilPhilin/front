(this.webpackJsonpadd_data=this.webpackJsonpadd_data||[]).push([[0],{13:function(e,t,a){e.exports={mainPage:"mainPage_mainPage__En_GD",info:"mainPage_info__FRpAc",greeting:"mainPage_greeting__2s-BI",links:"mainPage_links__nl4sw",link:"mainPage_link__3_XeN"}},17:function(e,t,a){e.exports={addData:"frontClass_addData__hulm4",addDataElements:"frontClass_addDataElements__2WrJN",link:"frontClass_link__3JhkH"}},37:function(e,t,a){"use strict";a.r(t);var s,i,r=a(8),n=a(9),o=a(0),d=a.n(o),c=a(22),l=a.n(c),u=a(10),h=a(16),p=a(15);!function(e){e.customer="customer",e.order="order",e.model="model",e.category="category",e.none="none"}(s||(s={})),function(e){e.customer="customer",e.order="order",e.model="model",e.category="category"}(i||(i={}));var m=a(7),y=a.n(m),_=a(1),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var i;Object(r.a)(this,a),(i=t.call(this,e))._childElements=void 0,i._childElementsWithId=void 0,i.state={displayAdd:!1,isWait:!1},i.display=i.display.bind(Object(u.a)(i)),i.checkData=i.checkData.bind(Object(u.a)(i)),i._childElements=[],i._childElementsWithId=new Map;for(var n=0;n<i.props.childProps.length;++n){var o=d.a.createRef();i._childElements.push(o),i.props.childProps[n].type!==s.none&&i._childElementsWithId.set(i.props.childProps[n].type,o)}return i}return Object(n.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{className:y.a.addDataElement,children:[Object(_.jsxs)("h1",{children:[this.props.title," "]}),Object(_.jsx)("button",{className:y.a.addDataButton,onClick:this.display,children:"open fields"}),this.state.displayAdd?Object(_.jsxs)("div",{className:y.a.dataFields,children:[this.props.childProps.map((function(t,a){return Object(_.jsx)(g,{title:t.title,inputType:t.inputType,errorMessage:t.errorMessage,type:t.type,ref:e._childElements[a]},t.title)})),Object(_.jsx)("button",{className:"".concat(y.a.addDataButton," ").concat(y.a.subButton),onClick:this.checkData,disabled:!!this.state.isWait,children:"submit"}),this.state.isWait?Object(_.jsx)("p",{children:"waiting"}):null]}):null]})}},{key:"display",value:function(){this.setState({displayAdd:!this.state.displayAdd})}},{key:"checkData",value:function(){for(var e=!0,t=0;t<this._childElements.length;++t){var a,s,i,r;if(null===(a=this._childElements[t].current)||void 0===a||a.notDisplayError(),""===(null===(s=this._childElements[t].current)||void 0===s?void 0:s.state.inputValue))e=!1,null===(r=this._childElements[t].current)||void 0===r||r.displayError();else null===(i=this._childElements[t].current)||void 0===i||i.notDisplayError()}if(e){for(var n=0;n<this._childElements.length;++n){var o;null===(o=this._childElements[n].current)||void 0===o||o.disable()}this.setState({isWait:!0});var d=new Map;this._childElements.forEach((function(e){var t,a;d.set((null===(t=e.current)||void 0===t?void 0:t.props.title)||"",(null===(a=e.current)||void 0===a?void 0:a.state.inputValue)||"")})),this.sendData(d)}}},{key:"idCheck",value:function(e){var t=this,a=!0;e.forEach((function(e,s){var i,r;!1===e&&(a=!1,null===(i=t._childElementsWithId.get(s))||void 0===i||null===(r=i.current)||void 0===r||r.displayError())})),a&&this._childElements.forEach((function(e){var t;null===(t=e.current)||void 0===t||t.clearInput()})),this.stopWaiting()}},{key:"stopWaiting",value:function(){this._childElements.forEach((function(e){var t;null===(t=e.current)||void 0===t||t.notDisable()})),this.setState({isWait:!1})}},{key:"sendData",value:function(e){switch(this.props.typeOfData){case i.customer:this.props.dataBaseContr.pushCustomer({id_customer:+(e.get("ID")||0),fname:e.get("First Name")||"",lname:e.get("Last Name")||"",date_of_birth:e.get("Date of Birth")||"",location:e.get("Location")||""});break;case i.order:this.props.dataBaseContr.pushOrder({id_order:+(e.get("ID")||0),customer:+(e.get("Customer")||0),type:+(e.get("Model")||0),date_of_order:e.get("Order Date")||"",date_of_delivery:e.get("Delivery Date")||"",delivery_type:e.get("Delivery")||""});break;case i.model:this.props.dataBaseContr.pushModel({id_model:+(e.get("ID")||0),name:e.get("Name")||"",price:+(e.get("Price")||0),category:+(e.get("Category")||0),storage:+(e.get("Storage")||0)});break;case i.category:this.props.dataBaseContr.pushCategory({id_category:+(e.get("ID")||0),name:e.get("Name")||""})}}}]),a}(o.Component),g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e,s){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state=s,i.state={isError:!1,inputValue:"",isDisabled:!1},i.handleChange=i.handleChange.bind(Object(u.a)(i)),i.displayError=i.displayError.bind(Object(u.a)(i)),i.notDisplayError=i.notDisplayError.bind(Object(u.a)(i)),i.clearInput=i.clearInput.bind(Object(u.a)(i)),i}return Object(n.a)(a,[{key:"handleChange",value:function(e){this.setState({inputValue:e.currentTarget.value})}},{key:"componentDidMount",value:function(){this.handleChange=this.handleChange.bind(this),this.displayError=this.displayError.bind(this),this.notDisplayError=this.notDisplayError.bind(this),this.clearInput=this.clearInput.bind(this),console.log("component was mounted")}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:y.a.inputFields,children:[Object(_.jsxs)("div",{className:y.a.inputInfo,children:[Object(_.jsx)("h2",{children:this.props.title}),this.state.isError?Object(_.jsx)("h2",{className:y.a.errorMes,children:this.props.errorMessage}):null]}),Object(_.jsx)("input",{placeholder:"get "+this.props.title,type:this.props.inputType,value:this.state.inputValue,disabled:!!this.state.isDisabled,className:"".concat(y.a.inputField),style:{borderColor:this.state.isError?"red":"black"},onChange:this.handleChange})]})}},{key:"displayError",value:function(){this.setState({isError:!0})}},{key:"notDisplayError",value:function(){this.setState({isError:!1})}},{key:"clearInput",value:function(){this.setState({inputValue:""})}},{key:"disable",value:function(){this.setState({isDisabled:!0})}},{key:"notDisable",value:function(){this.setState({isDisabled:!1})}}]),a}(o.Component),b=a(11),v=a(13),k=a.n(v),j=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(_.jsx)("section",{className:k.a.mainPage,children:Object(_.jsxs)("section",{className:k.a.info,children:[Object(_.jsx)("h3",{className:"".concat(k.a.greeting),children:"Welcome to the mus store database"}),Object(_.jsx)("small",{children:"What do you want to do?"}),Object(_.jsxs)("div",{className:k.a.links,children:[Object(_.jsx)(b.b,{to:"/inputData",className:k.a.link,children:"Add some data"}),Object(_.jsx)(b.b,{to:"/outputData",className:k.a.link,children:"Find some data"})]})]})})}}]),a}(o.Component),O=a(2),D=a(17),E=a.n(D),C=function(){function e(t){Object(r.a)(this,e),this._customerRef=void 0,this._orderRef=void 0,this._modelRef=void 0,this._catRef=void 0,this._dataBaseContr=void 0,this._dataBaseContr=t,this._customerRef=Object(o.createRef)(),this._orderRef=Object(o.createRef)(),this._modelRef=Object(o.createRef)(),this._catRef=Object(o.createRef)()}return Object(n.a)(e,[{key:"render",value:function(){var e=this;l.a.render(Object(_.jsx)(d.a.StrictMode,{children:Object(_.jsxs)(b.a,{children:[Object(_.jsx)(O.a,{exact:!0,path:"/",component:j}),Object(_.jsx)(O.a,{exact:!0,path:"/inputData",render:function(){return Object(_.jsxs)("div",{className:E.a.addData,children:[Object(_.jsxs)("div",{className:E.a.addDataElements,children:[Object(_.jsx)(f,{title:"Add Customer",childProps:[{title:"ID",inputType:"number",errorMessage:"id exists/empty",type:s.customer},{title:"First Name",inputType:"string",errorMessage:"empty field",type:s.none},{title:"Last Name",inputType:"string",errorMessage:"empty field",type:s.none},{title:"Date of Birth",inputType:"date",errorMessage:"empty field",type:s.none},{title:"Location",inputType:"string",errorMessage:"empty field",type:s.none}],dataBaseContr:e._dataBaseContr,typeOfData:i.customer,ref:e._customerRef}),Object(_.jsx)(f,{title:"Add Order",childProps:[{title:"ID",inputType:"number",errorMessage:"id exists/empty",type:s.order},{title:"Customer",inputType:"number",errorMessage:"id exists/empty",type:s.customer},{title:"Model",inputType:"number",errorMessage:"id exists/empty",type:s.model},{title:"Order Date",inputType:"date",errorMessage:"empty field",type:s.none},{title:"Delivery Date",inputType:"date",errorMessage:"empty field",type:s.none},{title:"Delivery",inputType:"string",errorMessage:"empty field",type:s.none}],dataBaseContr:e._dataBaseContr,typeOfData:i.order,ref:e._orderRef}),Object(_.jsx)(f,{title:"Add Model",childProps:[{title:"ID",inputType:"number",errorMessage:"id exists/empty",type:s.model},{title:"Name",inputType:"string",errorMessage:"empty field",type:s.none},{title:"Price",inputType:"number",errorMessage:"empty field",type:s.none},{title:"Category",inputType:"number",errorMessage:"id exists/empty",type:s.category},{title:"storage",inputType:"number",errorMessage:"empty field",type:s.none}],dataBaseContr:e._dataBaseContr,typeOfData:i.model,ref:e._modelRef}),Object(_.jsx)(f,{title:"Add Category",childProps:[{title:"ID",inputType:"number",errorMessage:"id exists/empty",type:s.category},{title:"Name",inputType:"string",errorMessage:"empty field",type:s.none}],dataBaseContr:e._dataBaseContr,typeOfData:i.category,ref:e._catRef})]}),Object(_.jsx)(b.b,{to:"/",className:E.a.link,children:"return to main page"})]})}}),Object(_.jsx)(O.a,{exact:!0,path:"/outputData",render:function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{children:"output data"}),Object(_.jsx)(b.b,{to:"/",children:"return to main page"})]})}})]})}),document.getElementById("root"))}},{key:"idCheck",value:function(e,t){var a,s,r,n;switch(t){case i.customer:null===(a=this._customerRef.current)||void 0===a||a.idCheck(e);break;case i.order:null===(s=this._orderRef.current)||void 0===s||s.idCheck(e);break;case i.model:null===(r=this._modelRef.current)||void 0===r||r.idCheck(e);break;case i.category:null===(n=this._catRef.current)||void 0===n||n.idCheck(e)}}}]),e}(),x=new(function(){function e(){Object(r.a)(this,e),this._front=void 0,this.url="https://mus-market.herokuapp.com/func",this._checkedId=void 0,this._checkedId=new Map}return Object(n.a)(e,[{key:"setFront",value:function(e){this._front=e}},{key:"pushCustomer",value:function(e){console.log(JSON.stringify(e));var t=new XMLHttpRequest;t.open("GET","/func",!1),t.setRequestHeader("command","add_customer"),t.setRequestHeader("arg1","".concat(e.id_customer)),t.setRequestHeader("arg2","".concat(e.fname)),t.setRequestHeader("arg3","".concat(e.lname)),t.setRequestHeader("arg4","".concat(e.fname)),t.setRequestHeader("arg5","".concat(e.location)),t.send(null);var a=t.response.json();for(var s in a)console.log(s);this.checkCustomer(e)}},{key:"pushOrder",value:function(e){this.checkOrder(e)}},{key:"pushModel",value:function(e){this.checkModel(e)}},{key:"pushCategory",value:function(e){this.checkCategory(e)}},{key:"idChecked",value:function(e,t){var a;null===(a=this._front)||void 0===a||a.idCheck(e,t)}},{key:"checkCustomer",value:function(e){var t=this;this._checkedId=new Map,1234===e.id_customer?this._checkedId.set(s.customer,!1):this._checkedId.set(s.customer,!0),setTimeout((function(e){t.idChecked(t._checkedId,i.customer)}),3e3)}},{key:"checkOrder",value:function(e){var t=this;this._checkedId=new Map,1234===e.id_order?this._checkedId.set(s.order,!1):this._checkedId.set(s.order,!0),1234===e.type?this._checkedId.set(s.model,!1):this._checkedId.set(s.model,!0),1234===e.customer?this._checkedId.set(s.customer,!1):this._checkedId.set(s.customer,!0),console.log(e.date_of_order),setTimeout((function(e){t.idChecked(t._checkedId,i.order)}),3e3)}},{key:"checkModel",value:function(e){var t=this;this._checkedId=new Map,1234===e.id_model?this._checkedId.set(s.model,!1):this._checkedId.set(s.model,!0),1234===e.id_model?this._checkedId.set(s.category,!1):this._checkedId.set(s.category,!0),setTimeout((function(e){t.idChecked(t._checkedId,i.model)}),3e3)}},{key:"checkCategory",value:function(e){var t=this;this._checkedId=new Map,1234===e.id_category?this._checkedId.set(s.category,!1):this._checkedId.set(s.category,!0),setTimeout((function(e){t.idChecked(t._checkedId,i.category)}),3e3)}}]),e}()),I=new C(x);x.setFront(I),I.render()},7:function(e,t,a){e.exports={addDataElement:"addDataElement_addDataElement__12nZr",addDataButton:"addDataElement_addDataButton__3U4_9",subButton:"addDataElement_subButton__3Cbeq",dataFields:"addDataElement_dataFields__3Vwlk",inputFields:"addDataElement_inputFields__21qd5",inputInfo:"addDataElement_inputInfo__48VPm",errorMes:"addDataElement_errorMes__3F9ed",inputField:"addDataElement_inputField__OzLqn"}}},[[37,1,2]]]);
//# sourceMappingURL=main.7f0ae456.chunk.js.map